import sqlite3, sys, math
luku1 = ""
luku2 = ""
luku3 = ""
db = sqlite3.connect("Laskut.txt")


def yhteenlasku():
    try:
        lukue = int(input("Anna ensimmäinen luku: "))
        lukuk = int(input("Anna toinen luku: "))
        summa = lukue + lukuk
        db.execute("INSERT INTO yhteenlaskut (luku1,luku2,summa) VALUES (?,?,?)",[lukue, lukuk, summa])
        return summa
    except ValueError:
        print("Anna jokin luku")

def vähennyslasku():
    try:
        luku1 = float(input("Anna ensimmäinen luku: "))
        luku2 = float(input("Anna toinen luku: "))
        erotus = luku1 - luku2
        db.execute("INSERT INTO vähennyslaskut (luku1,luku2,erotus) VALUES (?,?,?)",[luku1, luku2, erotus])
        return erotus
    except ValueError:
        print("Anna jokin luku")

def kertolasku():
    try:
        luku1 = float(input("Anna ensimmäinen luku: "))
        luku2 = float(input("Anna toinen luku: "))
        tulo = luku1 * luku2
    except ValueError:
        print("Anna jokin luku")
    db.execute("INSERT INTO kertolaskut (luku1,luku2,tulo) VALUES (?,?,?)",[luku1, luku2, tulo])
    return tulo


def jakolasku():
    while True:
        try:
            try:
                luku1 = float(input("Anna ensimmäinen luku: "))
                luku2 = float(input("Anna toinen luku: "))
                osamäärä = luku1 / luku2
                db.execute("INSERT INTO jakolaskut (luku1,luku2,osamäärä) VALUES (?,?,?)",[luku1, luku2, osamäärä])
                return osamäärä
            except ZeroDivisionError:
                print("Nollalla ei voi jakaa!")
        except ValueError:
            print("Anna jokin luku")



def kertoma():
    luku1 = float(input("Luku, jonka kertoman haluat: "))
    n = luku1
    i = n-1
    while i > 0:
        n = n*i
        i -= 1
    db.execute("INSERT INTO kertomat (luku1,kertoma) VALUES (?,?)",[luku1,n])
    return n

def neliöjuuri():
    luku = float(input("Anna luku: "))
    vastaus = math.sqrt(luku)
    db.execute("INSERT INTO neliöjuuret (luku1,neliöjuuri) VALUES (?,?)",[luku,vastaus])
    return vastaus





#Funktio, jossa toteutetaan valinnan mukainen operaatio
def if_valinta():
    if valinta == 1:
        print(yhteenlasku())
    elif valinta == 2:
        print(vähennyslasku())
    elif valinta == 3:
        print(jakolasku())
    elif valinta == 4:
        print(kertolasku())
    elif valinta == 5:
        print(kertoma())
    elif valinta == 6:
        print(neliöjuuri())
    elif valinta == 7:
        tulostus = int(input("Valitse, mitkä laskut haluat tulostaa? 1: yhteenlaskut, 2:vähennyslaskut, 3:jakolaskut, 4:kertolaskut, 5:kertoma, 6:neliöjuuri: "))
        if tulostus == 1:
            laskut = str(db.execute("SELECT luku1, luku2, summa FROM yhteenlaskut").fetchall())
            print(laskut)
            with open ("tiedosto.txt","w") as tiedosto:
                tiedosto.write(laskut)
        elif tulostus == 2:
            laskut = str(db.execute("SELECT luku1, luku2, erotus FROM vähennyslaskut").fetchall())
            print(laskut)
            with open ("tiedosto.txt","w") as tiedosto:
                tiedosto.write(laskut)
        elif tulostus == 3:
            laskut = str(db.execute("SELECT luku1, luku2, osamäärä FROM jakolaskut").fetchall())
            print(laskut)
            with open ("tiedosto.txt","w") as tiedosto:
                tiedosto.write(laskut)
        elif tulostus == 4:
            laskut = str(db.execute("SELECT luku1, luku2, tulo FROM kertolaskut").fetchall())
            print(laskut)
            with open ("tiedosto.txt","w") as tiedosto:
                tiedosto.write(laskut)
        elif tulostus == 5:
            laskut = str(db.execute("SELECT luku1, kertoma FROM kertomat").fetchall())
            print(laskut) 
            with open ("tiedosto.txt","w") as tiedosto:
                tiedosto.write(laskut)
        elif tulostus == 6:
            laskut = str(db.execute("SELECT luku1, neliöjuuri FROM neliöjuuret").fetchall())
            print(laskut)
            with open ("tiedosto.txt","w") as tiedosto:
                tiedosto.write(laskut)
    return ""

print("Päivää! Mitä haluat tehdä? Valitse 1:yhteenlasku, 2:vähennyslasku, 3:jakolasku, 4:kertolasku, 5: kertomafunktiot, 6:neliöjuuri, 8:poistu")



while True:
    valinta = float(input("Anna valinta: "))
    if valinta == 1:
        while True:
            print(if_valinta())
            poikki = input("Vaihdetaanko laskutyyppiä? Vastaa kyllä tai ei " ).lower()
            if poikki == "kyllä":
                break
            else:
                pass
    
    elif valinta == 2:
        while True:
            print(if_valinta())
            poikki = input("Vaihdetaanko laskutyyppiä? Vastaa kyllä tai ei " ).lower()
            if poikki == "kyllä":
                break
            else:
                pass
    
    elif valinta == 3:
        while True:
            print(if_valinta())
            poikki = input("Vaihdetaanko laskutyyppiä? Vastaa kyllä tai ei " ).lower()
            if poikki == "kyllä":
                break
            else:
                pass

    elif valinta == 4:
        while True:
            print(if_valinta())
            poikki = input("Vaihdetaanko laskutyyppiä? Vastaa kyllä tai ei " ).lower()
            if poikki == "kyllä":
                break
            else:
                pass

    elif valinta == 5:
        while True:
            print(if_valinta())
            poikki = input("Vaihdetaanko laskutyyppiä? Vastaa kyllä tai ei " ).lower()
            if poikki == "kyllä":
                break
            else:
                pass

    elif valinta == 6:
        while True:
            print(if_valinta())
            poikki = input("Vaihdetaanko laskutyyppiä? Vastaa kyllä tai ei " ).lower()
            if poikki == "kyllä":
                break
            else:
                pass

    elif valinta == 7:
        while True:
            print(if_valinta())
            poikki = input("Vaihdetaanko laskutyyppiä? Vastaa kyllä tai ei ").lower()
            if poikki == "kyllä":
                break
            else:
                pass
    elif valinta == 8:
        break
with open("tiedosto.txt","r") as tiedosto:
    tulostus = tiedosto.read()
    print(tulostus)